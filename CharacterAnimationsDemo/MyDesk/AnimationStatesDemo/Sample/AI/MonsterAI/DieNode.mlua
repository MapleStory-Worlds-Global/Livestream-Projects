@BTNode
script DieNode extends BTNode
	property Monster monster = nil
	property MonsterStateController monsterState = nil

	method void OnInit()
		self.monster = self.ParentAI.Entity.Monster
		self.monsterState = self.ParentAI.Entity.MonsterStateController
	end


	method any OnBehave(number delta)
		if self.monster.IsDead == false then
			return BehaviourTreeStatus.Failure
		end
		self.monsterState:DieState()
		return BehaviourTreeStatus.Running
	end
end